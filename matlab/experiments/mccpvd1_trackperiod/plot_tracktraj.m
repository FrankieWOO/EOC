function plot_tracktraj(X1, YMatrix1, X2, Y1, Y2, Y3, Y4, Y5)
%CREATEFIGURE(X1, YMATRIX1, X2, Y1, Y2, Y3, Y4, Y5)
%  X1:  vector of x data
%  YMATRIX1:  matrix of y data
%  X2:  vector of x data
%  Y1:  vector of y data
%  Y2:  vector of y data
%  Y3:  vector of y data
%  Y4:  vector of y data
%  Y5:  vector of y data

%  Auto-generated by MATLAB on 04-Jul-2017 22:12:01

% Create figure
figure1 = figure;
tmax = max(X1(end),X2(end));
% Create subplot
subplot1 = subplot(2,2,1,'Parent',figure1);
hold(subplot1,'on');

% Create multiple lines using matrix input to plot
plot1 = plot(X1,YMatrix1(1,:),X1, YMatrix1(2,:),'Parent',subplot1);
set(plot1(1),'DisplayName','q');
set(plot1(2),'DisplayName','q_{ref}');
axis([0 X1(end) -1 1])
% Create xlabel
xlabel('time (sec)','FontSize',14);

% Create ylabel
ylabel({'angle (rad)'},'FontSize',14);

% Uncomment the following line to preserve the X-limits of the axes
% xlim(subplot1,[0 5.4]);
% Uncomment the following line to preserve the Y-limits of the axes
% ylim(subplot1,[-Inf Inf]);
box(subplot1,'on');
% Set the remaining axes properties
set(subplot1,'XGrid','on');
% Create legend
legend1 = legend(subplot1,'show');
set(legend1,...
    'Position',[0.318939114123173 0.835249838141027 0.0641421940079797 0.0867609230365729],...
    'FontSize',16,...
    'EdgeColor',[1 1 1]);

% Create axes
axes1 = axes('Parent',figure1,...
    'Position',[0.509289904454124 0.583837209302324 0.334659090909092 0.341162790697673]);
hold(axes1,'on');
axis([0 tmax -1 1])

% Create plot
plot(X2,Y1,'Parent',axes1,'DisplayName','u1');

% Create plot
plot(X1,Y2,'Parent',axes1,'DisplayName','motor1');

% Create xlabel
xlabel('time (sec)','FontSize',14);

% Create title
title({'Simulated optimal tracking control of periodic movement, optimized minimal control effort'},...
    'FontSize',16);

% Create ylabel
ylabel({'angle (rad)'},'FontSize',14);

% Uncomment the following line to preserve the X-limits of the axes
% xlim(axes1,[0 5.4]);
% Uncomment the following line to preserve the Y-limits of the axes
% ylim(axes1,[-Inf Inf]);
box(axes1,'on');
% Set the remaining axes properties
set(axes1,'XGrid','on');
% Create legend
legend2 = legend(axes1,'show');
set(legend2,...
    'Position',[0.821967169172678 0.847023418628154 0.0904173091445493 0.0751927999880136],...
    'FontSize',16,...
    'EdgeColor',[1 1 1]);

% Create axes
axes2 = axes('Parent',figure1,...
    'Position',[0.129227202472952 0.179408740359897 0.334659090909091 0.341162790697674]);
hold(axes2,'on');

% Create plot
plot(X2,Y3,'Parent',axes2,'DisplayName','u2');

% Create plot
plot(X1,Y4,'Parent',axes2,'DisplayName','motor2');
axis([0 tmax 0 2])
% Create xlabel
xlabel('time (sec)','FontSize',14);

% Create ylabel
ylabel({'angle (rad)'},'FontSize',14);

% Uncomment the following line to preserve the X-limits of the axes
% xlim(axes2,[0 5.4]);
% Uncomment the following line to preserve the Y-limits of the axes
% ylim(axes2,[-Inf Inf]);
box(axes2,'on');
% Set the remaining axes properties
set(axes2,'XGrid','on');
% Create legend
legend3 = legend(axes2,'show');
set(legend3,...
    'Position',[0.358957353294362 0.424190729923873 0.0904173091445493 0.0751927999880135],...
    'FontSize',16,...
    'EdgeColor',[1 1 1]);

% Create axes
axes3 = axes('Parent',figure1,...
    'Position',[0.507744309400028 0.179408740359897 0.334659090909091 0.341162790697674]);
hold(axes3,'on');

% Create plot
plot(X2,Y5,'Parent',axes3,'DisplayName','u3');
axis([0 X2(end) 0 1])
% Create xlabel
xlabel('time (sec)','FontSize',14);

% Create ylabel
ylabel({'duty circle'});

% Uncomment the following line to preserve the X-limits of the axes
% xlim(axes3,[0 5.4]);
% Uncomment the following line to preserve the Y-limits of the axes
% ylim(axes3,[-Inf Inf]);
box(axes3,'on');
% Set the remaining axes properties
set(axes3,'XGrid','on');
% Create legend
legend4 = legend(axes3,'show');
set(legend4,...
    'Position',[0.74572987451005 0.455782230018235 0.0579598139758456 0.039845757320485],...
    'FontSize',16,...
    'EdgeColor',[1 1 1]);

